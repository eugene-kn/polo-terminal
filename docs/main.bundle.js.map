{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/poloniex.service.ts","webpack:///./src/app/position.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;;;;;;;;;;;;;;ACN+C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,4FAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACVF;AACR;AACd;AACyB;AACnB;AAQlC,IAAa,YAAY;IAYvB,sBAAoB,QAAyB,EAAE,MAAc;QAA7D,iBAMC;QANmB,aAAQ,GAAR,QAAQ,CAAiB;QAX7C,aAAQ,GAAG;YACT,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,IAAI;SACb,CAAC;QAEF,gBAAW,GAAG,KAAK,CAAC;QAOlB,MAAM,CAAC,QAAQ,GAAG,UAAC,CAAC;YAClB,MAAM,CAAC,GAAG,CAAC;gBACT,KAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,+BAAQ,GAAR;QAAA,iBAsBC;QArBC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACnD,KAAK,CAAC,sCAAsC,CAAC,CAAC;YAC9C,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAChB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,EAC1C,kCAAkC,CACnC,CAAC;QAEF,IAAI,CAAC,GAAG,GAAG,IAAI,wDAAe,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,GAAG,GAAG,IAAI,wDAAe,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,IAAI,wDAAe,CAAC,CAAC,CAAC,CAAC;QACtC,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,UAAU,CAAC;YACT,WAAW,CAAC,cAAM,YAAI,CAAC,gBAAgB,EAAE,EAAvB,CAAuB,EAAE,KAAK,CAAC,CAAC;QACpD,CAAC,EAAE,KAAK,CAAC,CAAC;IACZ,CAAC;IAED,sCAAe,GAAf;QAAA,iBAkDC;QAjDC,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAC7D,sBAAY;YACV,KAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAC3C,kBAAQ;gBACN,IAAI,UAAU,GAAG,CAAC,CAAC;gBAEnB,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;oBAC1B,IAAI,gBAAgB,GAAG,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;oBAE5D,EAAE,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;wBACzB,EAAE,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;4BAClB,UAAU,IAAI,gBAAgB,GAAG,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACvE,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,IAAI,MAAM,GAAG,CAAC,CAAC;4BACf,IAAI,WAAW,GAAG,CAAC,CAAC;4BACpB,IAAI,CAAC,GAAG,CAAC,CAAC;4BAEV,OAAO,MAAM,GAAG,gBAAgB,EAAE,CAAC;gCACjC,MAAM,IAAI,UAAU,CAAC,YAAY,CAAC,SAAO,IAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;gCAC5D,WAAW,IAAI,UAAU,CAAC,YAAY,CAAC,SAAO,IAAM,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gCAChE,CAAC,EAAE,CAAC;4BACN,CAAC;4BAED,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,0DAAQ,CAC9B,IAAI,EACJ,gBAAgB,EAChB,WAAW,EACX,KAAI,CAAC,OAAO,CACb,CAAC,CAAC;4BAEH,UAAU,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACpD,CAAC;oBACH,CAAC;gBACH,CAAC;gBAED,UAAU,GAAG,8CAAM,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACzC,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC1B,KAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,CAAC,EAED,aAAG,IAAI,YAAK,CAAC,kCAAgC,GAAK,CAAC,EAA5C,CAA4C,CACpD,CAAC;QACJ,CAAC,EAED,aAAG,IAAI,YAAK,CAAC,uCAAqC,GAAK,CAAC,EAAjD,CAAiD,CACzD,CAAC;IACJ,CAAC;IAED,uCAAgB,GAAhB;QAAA,iBAsBC;QArBC,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAEvC,KAAK,CAAC,kDAAkD,CAAC;aACtD,IAAI,CAAC,cAAI;YACR,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACxB,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;gBAC5D,MAAM,CAAC;YACT,CAAC;YAED,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,gBAAM;gBACrB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC;gBACjD,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,8CAAM,CAAC,KAAK,CAAC,KAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;gBAE9E,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAG;oBACxB,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC;gBACjD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;aACD,KAAK,CAAC,aAAG;YACR,OAAO,CAAC,GAAG,CAAC,gCAA8B,GAAK,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAa,GAAb,UAAc,GAAa;QAA3B,iBA2BC;QA1BC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,0BAAwB,GAAG,CAAC,MAAM,YAAO,GAAG,CAAC,IAAI,UAAO,CAAC,CAAC,CAAC,CAAC;YACvE,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,cAAI;YAC7C,6BAA6B;YAC7B,iDAAiD;YACjD,uBAAuB;YACvB,YAAY;YACZ,IAAI;YAEJ,IAAI,CAAC;gBACH,IAAI,QAAQ,GAAG,oBAAoB,CAAC;gBACpC,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,eAAe,CAAC;gBAEzC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACvC,QAAQ,IAAO,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,gBAAW,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,YAAO,GAAG,CAAC,IAAI,YAAO,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,OAAI,CAAC;gBACnG,CAAC;gBAED,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAChB,KAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC;YAAC,KAAK,EAAC,GAAG,CAAC,CAAC,CAAC;gBACZ,KAAK,CAAC,8CAA8C,CAAC,CAAC;gBACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAgB,GAAhB;QACE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,IAAI,GAAG,CAAC;IAC9C,CAAC;IAED,mCAAY,GAAZ;QACE,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QACrE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;IACtE,CAAC;IAED,mCAAY,GAAZ;QACE,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAElC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;YACvD,MAAM,CAAC;QACT,CAAC;QAED,YAAY,CAAC,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACpE,YAAY,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnE,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IACH;AAAA;AA3Ka,YAAY;IANxB,wFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,kCAAmC;QACnC,kCAAkC;QAClC,SAAS,EAAE,CAAC,0EAAe,CAAC;KAC7B,CAAC;yDAa8B,0EAAe,oBAAf,0EAAe,sDAAU,6DAAM,oBAAN,6DAAM;GAZlD,YAAY,CA2KzB;AA3KyB;;;;;;;;;;;;;;;;;;;;;;ACZiC;AACjB;AACI;AACF;AAEI;AAc/C,IAAa,SAAS;IAAtB;IAAyB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,SAAS;IAZrB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAY;SACb;QACD,OAAO,EAAE;YACP,gFAAa;YACb,mEAAW;YACX,iEAAU;SACX;QACD,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,oEAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBqB;AAC8C;AACtD;AACJ;AACE;AACK;AACZ;AAI1B,IAAa,eAAe;IAM1B,yBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEnC,8BAAI,GAAJ,UAAK,GAAW,EAAE,MAAc,EAAE,MAAc;QAC9C,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,6CAAK,EAAE,CAAC;IACvB,CAAC;IAED,6CAAmB,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC;IAC5D,CAAC;IAED,yCAAe,GAAf,UAAgB,KAAW;QACzB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,EAAE;YACpD,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SAC1C,CAAC,CAAC;IACL,CAAC;IAED,uCAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC;IAC/E,CAAC;IAED,uCAAa,GAAb,UAAc,QAAkB;QAC9B,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE;YACtC,cAAc,EAAE,SAAO,QAAQ,CAAC,IAAM;YACtC,QAAQ,EAAE,QAAQ,CAAC,MAAM;YACzB,MAAM,EAAE,QAAQ,CAAC,GAAG,GAAG,GAAG;YAC1B,mBAAmB,EAAE,CAAC;SACvB,CAAC,CAAC;IACL,CAAC;IAED,uFAAuF;IACvF,4DAA4D;IAE5D,wCAAwC;IACxC,wWAAwW;IAExW,yBAAyB;IACzB,sFAAsF;IACtF,gBAAgB;IAChB,QAAQ;IACR,IAAI;IAEI,6CAAmB,GAA3B,UAA4B,MAAc,EAAE,MAAW;QAAX,oCAAW;QACrD,MAAM,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC;QAC3B,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;QAE/B,IAAI,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAEvE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;aACtE,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC;aAClC,KAAK,CAAC,UAAC,KAAU,IAAK,0DAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,cAAc,CAAC,EAAtD,CAAsD,CAAC,CAAC;IACnF,CAAC;IAEO,yCAAe,GAAvB,UAAwB,MAAU;QAChC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK;YAC5C,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACf,CAAC;IAEO,oCAAU,GAAlB,UAAmB,MAAU;QAC3B,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAE/C,MAAM,CAAC,IAAI,8DAAO,CAAC;YACjB,KAAK,EAAE,IAAI,CAAC,GAAG;YACf,MAAM,EAAE,qDAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE;YAChE,cAAc,EAAE,mCAAmC;SACpD,CAAC,CAAC;IACL,CAAC;IACH,sBAAC;AAAD,CAAC;AA7EY,eAAe;IAD3B,wFAAU,EAAE;yDAOe,2DAAI,oBAAJ,2DAAI;GANnB,eAAe,CA6E3B;AA7E2B;;;;;;;;;;;;ACTA;AAE5B;IAOE,kBAAY,IAAY,EAAE,MAAc,EAAE,WAAmB,EAAE,OAAiC;QAC9F,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;QACb,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAED,sBAAI,gCAAU;aAAd;YACE,MAAM,CAAC,8CAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACjD,CAAC;;;OAAA;IAED,sBAAI,4BAAM;aAAV;YACE,MAAM,CAAC,8CAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACzE,CAAC;;;OAAA;IAED,sBAAI,wBAAE;aAAN;YACE,MAAM,CAAC,8CAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QACzF,CAAC;;;OAAA;IAED,sBAAI,yBAAG;aAAP;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,EAAE,CAAC;QACnE,CAAC;;;OAAA;IACH,eAAC;AAAD,CAAC;;;;;;;;;;;ACjCM,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,IAAI;CACjB,CAAC;;;;;;;;ACFF;AACA;;;AAGA;AACA,gCAAiC,qBAAqB,mBAAmB,0BAA0B,2BAA2B,yBAAyB,KAAK,kBAAkB,oCAAoC,qBAAqB,4BAA4B,qBAAqB,KAAK,gBAAgB,4BAA4B,KAAK,cAAc,4BAA4B,KAAK,qCAAqC,sBAAsB,KAAK,sCAAsC,oBAAoB,KAAK,iCAAiC,2BAA2B,KAAK,2BAA2B,0BAA0B,KAAK;;AAEvnB;;;AAGA;AACA,2C;;;;;;;ACXA,qXAAqX,kBAAkB,SAAS,kBAAkB,goCAAgoC,YAAY,oDAAoD,cAAc,oDAAoD,mBAAmB,oDAAoD,WAAW,oDAAoD,kBAAkB,2BAA2B,cAAc,2BAA2B,UAAU,2tC","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 271;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 271\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, NgZone } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/Rx';\nimport MathJS from 'mathjs';\nimport { PoloniexService } from './poloniex.service';\nimport Position from './position';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [PoloniexService]\n})\nexport class AppComponent {\n  settings = {\n    apiKey: null,\n    secret: null\n  };\n\n  smallScreen = false;\n  btc: BehaviorSubject<number>;\n  usd: BehaviorSubject<number>;\n  btcRate: BehaviorSubject<number>;\n  positions: Position[];\n\n  constructor(private poloniex: PoloniexService, ngZone: NgZone) {\n    window.onresize = (e) => {\n      ngZone.run(() => {\n        this.detectScreenSize();\n      });\n    };\n  }\n\n  ngOnInit(): void {\n    this.detectScreenSize();\n    this.loadSettings();\n\n    if (!this.settings.apiKey || !this.settings.secret) {\n      alert('Missing Poloniex API key and secret!');\n      return;\n    }\n\n    this.poloniex.init(\n      this.settings.apiKey, this.settings.secret,\n      'https://mastervip.xyz/tradingApi'\n    );\n\n    this.btc = new BehaviorSubject(0);\n    this.usd = new BehaviorSubject(0);\n    this.btcRate = new BehaviorSubject(0);\n    this.updatePositions();\n\n    setTimeout(() => {\n      setInterval(() => this.updateTickerData(), 10000);\n    }, 10000);\n  }\n\n  updatePositions() {\n    console.log('Loading positions...');\n    this.positions = [];\n\n    this.poloniex.getTradeHistory(new Date('2017-01-01')).subscribe(\n      tradeHistory => {\n        this.poloniex.getCompleteBalances().subscribe(\n          balances => {\n            let btcBalance = 0;\n\n            for (let coin in balances) {\n              let availableBalance = parseFloat(balances[coin].available);\n\n              if (availableBalance > 0) {\n                if (coin == 'BTC') {\n                  btcBalance += availableBalance + parseFloat(balances[coin].onOrders);\n                } else {\n                  let amount = 0;\n                  let amountInBtc = 0;\n                  let i = 0;\n\n                  while (amount < availableBalance) {\n                    amount += parseFloat(tradeHistory[`BTC_${coin}`][i].amount);\n                    amountInBtc += parseFloat(tradeHistory[`BTC_${coin}`][i].total);\n                    i++;\n                  }\n\n                  this.positions.push(new Position(\n                    coin,\n                    availableBalance,\n                    amountInBtc,\n                    this.btcRate\n                  ));\n\n                  btcBalance += parseFloat(balances[coin].btcValue);\n                }\n              }\n            }\n\n            btcBalance = MathJS.round(btcBalance, 8);\n            this.btc.next(btcBalance);\n            this.updateTickerData();\n          },\n\n          err => alert(`Failed to retrieve balances: ${err}`)\n        );\n      },\n\n      err => alert(`Could not donwload trade history: ${err}`)\n    );\n  }\n\n  updateTickerData(): void {\n    console.log('Updating ticker data...');\n\n    fetch('https://poloniex.com/public?command=returnTicker')\n      .then(resp => {\n        if (resp.status !== 200) {\n          console.log('Failed to retrieve ticker data from Poloniex');\n          return;\n        }\n\n        resp.json().then(ticker => {\n          this.btcRate.next(ticker['USDT_BTC'].highestBid);\n          this.usd.next(MathJS.round(this.btc.getValue() * this.btcRate.getValue(), 2));\n\n          this.positions.forEach(pos => {\n            pos.bid = ticker['BTC_' + pos.coin].highestBid;\n          });\n        });\n      })\n      .catch(err => {\n        console.log(`Could not retrieve ticker: ${err}`);\n      });\n  }\n\n  closePosition(pos: Position) {\n    if (!confirm(`About to market-sell ${pos.amount} of ${pos.coin}. OK?`)) {\n      return;\n    }\n\n    this.poloniex.closePosition(pos).subscribe(resp => {\n      // if (resp.status !== 200) {\n      //   alert(\"Something went wrong (see console)\");\n      //   console.log(resp);\n      //   return;\n      // }\n\n      try {\n        let tradeLog = \"Latest Trades:\\n\\n\";\n        let trades = resp.json().resultingTrades;\n\n        for (let i = 0; i < trades.length; i++) {\n          tradeLog += `${trades[i].date} - sold ${trades[i].amount} of ${pos.coin} at ${trades[i].rate}\\n`;\n        }\n\n        alert(tradeLog);\n        this.updatePositions();\n      } catch(err) {\n        alert(\"Bad response from Poloniex API (see console)\");\n        console.log(resp);\n      }\n    });\n  }\n\n  detectScreenSize(): void {\n    this.smallScreen = window.innerWidth <= 700;\n  }\n\n  loadSettings(): void {\n    console.log('Loading settings...');\n    this.settings.apiKey = localStorage.getItem('polo-terminal.api-key');\n    this.settings.secret = localStorage.getItem('polo-terminal.secret');\n  }\n\n  saveSettings(): void {\n    console.log('Saving settings...');\n\n    if (!this.settings.apiKey || !this.settings.secret) {\n      console.log('The API key and secret cannot be empty!');\n      return;\n    }\n\n    localStorage.setItem('polo-terminal.api-key', this.settings.apiKey);\n    localStorage.setItem('polo-terminal.secret', this.settings.secret);\n    window.location.reload();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response, Headers, RequestOptions, ResponseOptions } from '@angular/http';\r\nimport {Observable} from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport * as CryptoJS from 'crypto-js';\r\nimport nonce from 'nonce';\r\nimport Position from './position';\r\n\r\n@Injectable()\r\nexport class PoloniexService {\r\n  private key: string;\r\n  private secret: string;\r\n  private apiUrl: string;\r\n  private nonce: any;\r\n\r\n  constructor(private http: Http) { }\r\n\r\n  init(key: string, secret: string, apiUrl: string) {\r\n    this.key = key;\r\n    this.secret = secret;\r\n    this.apiUrl = apiUrl;\r\n    this.nonce = nonce();\r\n  }\r\n\r\n  getCompleteBalances(): Observable<Response> {\r\n    return this.invokeTradingMethod('returnCompleteBalances');\r\n  }\r\n\r\n  getTradeHistory(start: Date): Observable<Response> {\r\n    return this.invokeTradingMethod('returnTradeHistory', { \r\n      currencyPair: 'all',\r\n      start: Math.floor(start.getTime() / 1000)\r\n    });\r\n  }\r\n\r\n  getOpenOrders(): Observable<Response> {\r\n    return this.invokeTradingMethod('returnOpenOrders', { currencyPair: 'all' });\r\n  }\r\n\r\n  closePosition(position: Position): Observable<Response> {\r\n    return this.invokeTradingMethod('sell', {\r\n      'currencyPair': `BTC_${position.coin}`,\r\n      'amount': position.amount,\r\n      'rate': position.bid * 0.9,\r\n      'immediateOrCancel': 1\r\n    });\r\n  }\r\n\r\n  // private invokeTradingMethodTest(method: string, params = {}): Observable<Response> {\r\n  //   console.log(\"invokeTradingMethodTest\", method, params);\r\n\r\n  //   return new Observable(observer => {\r\n  //     let json = `{\"orderNumber\":\"35523807750\",\"resultingTrades\":[{\"amount\":\"108.50874733\",\"date\":\"2017-04-18 23:45:31\",\"rate\":\"0.00002728\",\"total\":\"0.00296011\",\"tradeID\":\"3855488\",\"type\":\"sell\"},{\"amount\":\"614.31733962\",\"date\":\"2017-04-18 23:45:31\",\"rate\":\"0.00002727\",\"total\":\"0.01675243\",\"tradeID\":\"3855489\",\"type\":\"sell\"}],\"amountUnfilled\":\"0.00000000\"}`;\r\n\r\n  //     setTimeout(() => {\r\n  //       observer.next(new Response(new ResponseOptions({ status: 200, body: json })))\r\n  //     }, 2000);\r\n  //   });\r\n  // }\r\n\r\n  private invokeTradingMethod(method: string, params = {}) {\r\n    params['command'] = method;\r\n    params['nonce'] = this.nonce();\r\n\r\n    let options = new RequestOptions({ headers: this.getHeaders(params) });\r\n\r\n    return this.http.post(this.apiUrl, this.stringifyParams(params), options)\r\n      .map((res: Response) => res.json())\r\n      .catch((error: any) => Observable.throw(error.json().error || 'Server error'));\r\n  }\r\n\r\n  private stringifyParams(params: {}): string {\r\n    return Object.keys(params).map(function (param) {\r\n      return encodeURIComponent(param) + '=' + encodeURIComponent(params[param]);\r\n    }).join('&');\r\n  }\r\n\r\n  private getHeaders(params: {}): Headers {\r\n    let paramString = this.stringifyParams(params);\r\n\r\n    return new Headers({\r\n      'Key': this.key,\r\n      'Sign': CryptoJS.HmacSHA512(paramString, this.secret).toString(),\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/poloniex.service.ts","import { BehaviorSubject } from 'rxjs/Rx';\r\nimport MathJS from 'mathjs';\r\n\r\nexport default class Position {\r\n  readonly coin: string;\r\n  readonly amount: number;\r\n  readonly amountInBtc: number;\r\n  bid: number;\r\n  btcRate: BehaviorSubject<number>;\r\n\r\n  constructor(coin: string, amount: number, amountInBtc: number, btcRate?: BehaviorSubject<number>) {\r\n    this.coin = coin;\r\n    this.amount = amount;\r\n    this.amountInBtc = amountInBtc;\r\n    this.bid = 0;\r\n    this.btcRate = btcRate;\r\n  }\r\n\r\n  get worthInBtc(): number {\r\n    return MathJS.round(this.bid * this.amount, 8);\r\n  }\r\n\r\n  get change(): number {\r\n    return MathJS.round(this.worthInBtc * 100 / this.amountInBtc - 100, 2);\r\n  }\r\n\r\n  get pl(): number {\r\n    return MathJS.round((this.worthInBtc - this.amountInBtc) * this.btcRate.getValue(), 2);\r\n  }\r\n\r\n  get cls(): string {\r\n    return this.change > 5 ? 'green' : this.change < -5 ? 'red' : '';\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/position.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"table {\\r\\n    border: none;\\r\\n    width: 98%;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\nthead th {\\r\\n    background-color: lightgray;\\r\\n    color: black;\\r\\n    padding-bottom: 3px;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.green {\\r\\n    background: #c5e1a5;\\r\\n}\\r\\n\\r\\n.red {\\r\\n    background: #ef9a9a;\\r\\n}\\r\\n\\r\\n#settings-tab .page-content {\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n#settings-tab .mdl-textfield {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.mdl-layout__header-row {\\r\\n    padding-left: 15px;\\r\\n}\\r\\n\\r\\n.mdl-layout-title {\\r\\n    font-size: medium;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 362\n// module chunks = 1","module.exports = \"<!-- Simple header with fixed tabs. -->\\n<div class=\\\"mdl-layout mdl-js-layout mdl-layout--fixed-header\\n            mdl-layout--fixed-tabs\\\">\\n  <header class=\\\"mdl-layout__header\\\">\\n    <div class=\\\"mdl-layout__header-row\\\">\\n      <!-- Title -->\\n      <span class=\\\"mdl-layout-title\\\"><span [hidden]=\\\"smallScreen\\\">Polo Terminal - </span>Balance: {{ btc.getValue() }} BTC (${{ usd.getValue() }})</span>\\n    </div>\\n    <!-- Tabs -->\\n    <div class=\\\"mdl-layout__tab-bar mdl-js-ripple-effect\\\">\\n      <a href=\\\"#positions-tab\\\" class=\\\"mdl-layout__tab is-active\\\">Positions</a>\\n      <a href=\\\"#settings-tab\\\" class=\\\"mdl-layout__tab\\\">Settings</a>\\n    </div>\\n  </header>\\n  <main class=\\\"mdl-layout__content\\\">\\n    <section class=\\\"mdl-layout__tab-panel is-active\\\" id=\\\"positions-tab\\\">\\n      <div class=\\\"page-content\\\">\\n        <table class=\\\"mdl-data-table mdl-js-data-table mdl-shadow--2dp\\\">\\n          <thead>\\n            <tr>\\n              <th class=\\\"mdl-data-table__cell--non-numeric\\\">Coin</th>\\n              <th [hidden]=\\\"smallScreen\\\">Amount</th>\\n              <th [hidden]=\\\"smallScreen\\\">Paid (BTC)</th>\\n              <th [hidden]=\\\"smallScreen\\\">Bid (BTC)</th>\\n              <th [hidden]=\\\"smallScreen\\\">Worth (BTC)</th>\\n              <th>Change (%)</th>\\n              <th>P/L ($)</th>\\n              <th>Action</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr *ngFor=\\\"let pos of positions\\\" [ngClass]=\\\"pos.cls\\\">\\n              <td class=\\\"mdl-data-table__cell--non-numeric\\\">{{ pos.coin }}</td>\\n              <td [hidden]=\\\"smallScreen\\\">{{ pos.amount }}</td>\\n              <td [hidden]=\\\"smallScreen\\\">{{ pos.amountInBtc }}</td>\\n              <td [hidden]=\\\"smallScreen\\\">{{ pos.bid }}</td>\\n              <td [hidden]=\\\"smallScreen\\\">{{ pos.worthInBtc }}</td>\\n              <td>{{ pos.change }}</td>\\n              <td>{{ pos.pl }}</td>\\n              <td>\\n                <button class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\\\" (click)=\\\"closePosition(pos)\\\">Close</button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </section>\\n    <section class=\\\"mdl-layout__tab-panel\\\" id=\\\"settings-tab\\\">\\n      <div class=\\\"page-content\\\">\\n        <form action=\\\"#\\\">\\n          <div class=\\\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\\\">\\n            <input [(ngModel)]=\\\"settings.apiKey\\\" class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" name=\\\"api-key\\\">\\n            <label class=\\\"mdl-textfield__label\\\" for=\\\"api-key\\\">API Key</label>\\n          </div>\\n          <div class=\\\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\\\">\\n            <input [(ngModel)]=\\\"settings.secret\\\" class=\\\"mdl-textfield__input\\\" type=\\\"text\\\" name=\\\"secret\\\">\\n            <label class=\\\"mdl-textfield__label\\\" for=\\\"secret\\\">Secret</label>\\n          </div>\\n          <button (click)=\\\"saveSettings()\\\" class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored\\\">\\n            Save\\n          </button>\\n        </form>\\n      </div>\\n    </section>\\n  </main>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 739\n// module chunks = 1"],"sourceRoot":""}